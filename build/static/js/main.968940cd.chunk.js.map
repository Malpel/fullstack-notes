{"version":3,"sources":["components/Note.js","components/Notification.js","components/Footer.js","services/notes.js","services/login.js","components/NoteForm.js","components/LoginFrom.js","App.js","index.js"],"names":["Note","_ref","note","toggleImportance","label","important","react_default","a","createElement","className","content","onClick","Notification","message","Footer","style","color","fontStyle","fontSize","token","services_notes","getAll","axios","get","then","response","data","create","Object","asyncToGenerator","regenerator_default","mark","_callee","newObject","config","res","wrap","_context","prev","next","headers","Authorization","post","sent","abrupt","stop","_x","apply","this","arguments","update","id","put","concat","setToken","newToken","services_login","login","credentials","NoteForm","addNote","newNote","handleNoteChange","onSubmit","value","onChange","type","LoginForm","handleLogin","username","setUsername","password","setPassword","name","_ref2","target","_ref3","App","_useState","useState","_useState2","slicedToArray","notes","setNotes","_useState3","_useState4","setNewNote","_useState5","_useState6","showAll","setShowAll","_useState7","_useState8","errorMessage","setErrorMessage","_useState9","_useState10","_useState11","_useState12","_useState13","_useState14","user","setUser","useEffect","noteService","initialNotes","loggedUserJSON","window","localStorage","getItem","JSON","parse","notesToShow","filter","event","_user2","preventDefault","loginService","setItem","stringify","t0","setTimeout","components_Notification","components_NoteForm","noteObject","date","Date","toISOString","Math","random","returnedNote","console","log","LoginFrom","map","components_Note","key","find","n","changedNote","objectSpread","catch","error","toggleImportanceOf","components_Footer","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.968940cd.chunk.js","sourcesContent":["import React from 'react'\n\nconst Note = ({ note, toggleImportance }) => {\n    const label = note.important\n        ? 'make unimportant'\n        : 'make important'\n\n    return (\n        <li className='note'>{note.content}\n            <button onClick={toggleImportance}>{label}</button>\n        </li>\n    )\n}\n\nexport default Note","import React from 'react'\n\nconst Notification = ({ message }) => {\n    if (message === null) {\n        return null\n    }\n\n    return (\n        <div className='error'>\n            {message}\n        </div>\n    )\n}\n\nexport default Notification","import React from 'react'\n\nconst Footer = () => {\n    const footerStyle = {\n        color: 'darksslategrey',\n        fontStyle: 'italic',\n        fontSize: 16\n    }\n\n    return (\n        <div style={footerStyle}>\n            <br />\n            <em>Note app, Department of Computer Science, University of Helsinki 2019</em>\n        </div>\n    )\n}\n\nexport default Footer","import axios from 'axios'\nconst baseUrl = '/api/notes'\n\nlet token = null\n\nconst setToken = newToken => {\n    token = `bearer ${newToken}`\n}\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = async newObject => {\n    const config = {\n        headers: { Authorization: token}\n    }\n\n    const res = await axios.post(baseUrl, newObject, config)\n    return res.data\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n}\n\nexport default { getAll, create, update, setToken}","import axios from 'axios'\nconst baseUrl = '/api/login'\n\nconst login = async credentials => {\n    const res = await axios.post(baseUrl, credentials)\n    return res.data\n}\n\nexport default { login }","import React from 'react'\n\nconst NoteForm = ({ addNote, newNote, handleNoteChange }) => {\n    return (\n      <form onSubmit={addNote}>\n        <input value={newNote} onChange={handleNoteChange} />\n        <button type=\"submit\">save</button>\n      </form>\n    )\n  }\n\nexport default NoteForm","import React from 'react'\n\nconst LoginForm = ({ handleLogin, username, setUsername, password, setPassword }) => {\n  return (\n    <form onSubmit={handleLogin}>\n      <div>\n        username\n          <input type=\"text\" value={username} name=\"username\"\n          onChange={({ target }) => setUsername(target.value)} />\n      </div>\n      <div>\n        password\n          <input type=\"password\" value={password} name=\"Password\"\n          onChange={({ target }) => setPassword(target.value)} />\n      </div>\n      <button type=\"submit\">login</button>\n    </form>\n  )\n}\n\n\nexport default LoginForm ","import React, { useState, useEffect } from 'react'\nimport Note from './components/Note'\nimport Notification from './components/Notification'\nimport Footer from './components/Footer'\nimport noteService from './services/notes'\nimport loginService from './services/login'\nimport NoteForm from './components/NoteForm'\nimport LoginForm from './components/LoginFrom'\n\n\nconst App = () => {\n    const [notes, setNotes] = useState([])\n    const [newNote, setNewNote] = useState('')\n    const [showAll, setShowAll] = useState(true)\n    const [errorMessage, setErrorMessage] = useState(null)\n    const [username, setUsername] = useState('')\n    const [password, setPassword] = useState('')\n    const [user, setUser] = useState(null)\n\n    useEffect(() => {\n        noteService\n            .getAll()\n            .then(initialNotes => {\n                setNotes(initialNotes)\n            })\n    }, [])\n\n    useEffect(() => {\n        const loggedUserJSON = window.localStorage.getItem('loggedNoteappUser')\n        if (loggedUserJSON) {\n            const user = JSON.parse(loggedUserJSON)\n            setUser(user)\n            noteService.setToken(user.token)\n        }\n    }, [])\n\n    const notesToShow = showAll\n        ? notes\n        : notes.filter(note => note.important)\n\n    const toggleImportanceOf = id => {\n        const note = notes.find(n => n.id === id)\n        const changedNote = { ...note, important: !note.important }\n\n        noteService\n            .update(id, changedNote)\n            .then(returnedNote => {\n                setNotes(notes.map(note => note.id !== id ? note : returnedNote))\n            })\n            .catch(error => {\n                setErrorMessage(\n                    `Note ${note.content} was already removed from server`\n                )\n                setTimeout(() => {\n                    setErrorMessage(null)\n                }, 5000)\n                setNotes(notes.filter(n => n.id !== id))\n            })\n    }\n\n    const rows = () => notesToShow.map(note =>\n        <Note\n            key={note.id}\n            note={note}\n            toggleImportance={() => toggleImportanceOf(note.id)}\n        />)\n\n    const addNote = (event) => {\n        event.preventDefault()\n        const noteObject = {\n            content: newNote,\n            date: new Date().toISOString(),\n            important: Math.random() > 0.5,\n        }\n\n        noteService\n            .create(noteObject)\n            .then(returnedNote => {\n                setNotes(notes.concat(returnedNote))\n                setNewNote('')\n            })\n    }\n\n    const handleNoteChange = (event) => {\n        console.log(event.target.value)\n        setNewNote(event.target.value)\n    }\n\n    const handleLogin = async (event) => {\n        event.preventDefault()\n        try {\n            const user = await loginService.login({\n                username, password\n            })\n\n            window.localStorage.setItem('loggedNoteappUser', JSON.stringify(user))\n\n            noteService.setToken(user.token)\n            setUser(user)\n            setUsername('')\n            setPassword('')\n        }\n        catch (exception) {\n            setErrorMessage(('wrong credentials'))\n            setTimeout(() => {\n                setErrorMessage(null)\n            }, 5000)\n        }\n    }\n\n    return (\n        <div>\n            <h1>Notes</h1>\n            <Notification message={errorMessage} />\n\n\n\n            {user ?\n                <div>\n                    <p>{user.name} logged in</p>\n                    {<NoteForm addNote={addNote}\n                        newNote={newNote}\n                        handleNoteChange={handleNoteChange} />}\n                </div>\n                :\n                <div>\n                    <h2>Login</h2>\n                    <LoginForm handleLogin={handleLogin}\n                        username={username} setUsername={setUsername}\n                        password={password} setPassword={setPassword} />\n                </div>\n            }\n\n\n            <div>\n                <button onClick={() => setShowAll(!showAll)}>\n                    show {showAll ? 'important' : 'all'}\n                </button>\n            </div>\n            <ul>\n                {rows()}\n            </ul>\n\n            <Footer />\n        </div>\n    )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)"],"sourceRoot":""}